(ncf-env) C:\Users\ADVAN\Documents\Dicoding\msml\SMSML_LeoPrangsT>mlflow run MLProject --env-manager=local
C:\Users\ADVAN\.conda\envs\ncf-env\Lib\site-packages\mlflow\tracking\_tracking_service\utils.py:140: FutureWarning: Filesystem tracking backend (e.g., './mlruns') is deprecated. Please switch to a database backend (e.g., 'sqlite:///mlflow.db'). For feedback, see: https://github.com/mlflow/mlflow/issues/18534
  return FileStore(store_uri, store_uri)
2025/11/12 16:38:41 INFO mlflow.projects.utils: === Created directory C:\Users\ADVAN\AppData\Local\Temp\tmpxl_aug3q for downloading remote URIs passed to arguments of type 'path' ===
2025/11/12 16:38:41 INFO mlflow.projects.backend.local: === Running command 'python modelling.py' in run with ID '58757e5e5ad145049ca370c36cc317ea' ===
âœ… File CSV: C:\Users\ADVAN\Documents\Dicoding\msml\SMSML_LeoPrangsT\MLProject\nilai_mahasiswa-preprocessed.csv
C:\Users\ADVAN\.conda\envs\ncf-env\Lib\site-packages\mlflow\tracking\_tracking_service\utils.py:140: FutureWarning: Filesystem tracking backend (e.g., './mlruns') is deprecated. Please switch to a database backend (e.g., 'sqlite:///mlflow.db'). For feedback, see: https://github.com/mlflow/mlflow/issues/18534
  return FileStore(store_uri, store_uri)
ðŸŽ¯ MLflow Run ID: 58757e5e5ad145049ca370c36cc317ea
2025/11/12 16:38:56 WARNING mlflow.utils.autologging_utils: Encountered unexpected error during sklearn autologging: When an mlflow-artifacts URI was supplied, the tracking URI must be a valid http or https URI, but it was currently set to file:///C:/Users/ADVAN/Documents/Dicoding/msml/SMSML_LeoPrangsT/mlruns. Perhaps you forgot to set the tracking URI to the running MLflow server. To set the tracking URI, use either of the following methods:
1. Set the MLFLOW_TRACKING_URI environment variable to the desired tracking URI. `export MLFLOW_TRACKING_URI=http://localhost:5000`
2. Set the tracking URI programmatically by calling `mlflow.set_tracking_uri`. `mlflow.set_tracking_uri('http://localhost:5000')`
âœ… RMSE: 0.2114
2025/11/12 16:38:56 WARNING mlflow.models.model: `artifact_path` is deprecated. Please use `name` instead.
2025/11/12 16:39:01 WARNING mlflow.models.model: Model logged without a signature and input example. Please set `input_example` parameter when logging the model to auto infer the model signature.
Traceback (most recent call last):
  File "C:\Users\ADVAN\Documents\Dicoding\msml\SMSML_LeoPrangsT\MLProject\modelling.py", line 57, in <module>
    mlflow.sklearn.log_model(model, "model", registered_model_name="CF_Mahasiswa_Sklearn")
  File "C:\Users\ADVAN\.conda\envs\ncf-env\Lib\site-packages\mlflow\sklearn\__init__.py", line 426, in log_model
    return Model.log(
           ^^^^^^^^^^
  File "C:\Users\ADVAN\.conda\envs\ncf-env\Lib\site-packages\mlflow\models\model.py", line 1297, in log
    client.log_model_artifacts(model.model_id, local_path)
  File "C:\Users\ADVAN\.conda\envs\ncf-env\Lib\site-packages\mlflow\tracking\client.py", line 5643, in log_model_artifacts
    return self._tracking_client.log_model_artifacts(model_id, local_dir)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ADVAN\.conda\envs\ncf-env\Lib\site-packages\mlflow\tracking\_tracking_service\client.py", line 911, in log_model_artifacts
    self._get_artifact_repo(model_id, resource="logged_model").log_artifacts(local_dir)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ADVAN\.conda\envs\ncf-env\Lib\site-packages\mlflow\tracking\_tracking_service\client.py", line 650, in _get_artifact_repo
    artifact_repo = get_artifact_repository(artifact_uri)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ADVAN\.conda\envs\ncf-env\Lib\site-packages\mlflow\store\artifact\artifact_repository_registry.py", line 147, in get_artifact_repository
    return _artifact_repository_registry.get_artifact_repository(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ADVAN\.conda\envs\ncf-env\Lib\site-packages\mlflow\store\artifact\artifact_repository_registry.py", line 83, in get_artifact_repository
    return repository(artifact_uri, tracking_uri=tracking_uri, registry_uri=registry_uri)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ADVAN\.conda\envs\ncf-env\Lib\site-packages\mlflow\store\artifact\mlflow_artifacts_repo.py", line 55, in __init__
    self.resolve_uri(artifact_uri, effective_tracking_uri), tracking_uri, registry_uri
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ADVAN\.conda\envs\ncf-env\Lib\site-packages\mlflow\store\artifact\mlflow_artifacts_repo.py", line 70, in resolve_uri
    _validate_uri_scheme(track_parse)
  File "C:\Users\ADVAN\.conda\envs\ncf-env\Lib\site-packages\mlflow\store\artifact\mlflow_artifacts_repo.py", line 35, in _validate_uri_scheme
    raise MlflowException(
mlflow.exceptions.MlflowException: When an mlflow-artifacts URI was supplied, the tracking URI must be a valid http or https URI, but it was currently set to file:///C:/Users/ADVAN/Documents/Dicoding/msml/SMSML_LeoPrangsT/mlruns. Perhaps you forgot to set the tracking URI to the running MLflow server. To set the tracking URI, use either of the following methods:
1. Set the MLFLOW_TRACKING_URI environment variable to the desired tracking URI. `export MLFLOW_TRACKING_URI=http://localhost:5000`
2. Set the tracking URI programmatically by calling `mlflow.set_tracking_uri`. `mlflow.set_tracking_uri('http://localhost:5000')`
2025/11/12 16:39:02 ERROR mlflow.cli: === Run (ID '58757e5e5ad145049ca370c36cc317ea') failed ===


--- DI GRAFANA ---

- Konteks: Menambah rule kedua (rule pertama berhasil),  rule_uid: '' harusnya di generate otomatis, tapi ini tidak
Error
conflicting alert rule found [rule_uid: '', title: 'o', namespace_uid: 'cf432wed5bsw0f']: UNIQUE constraint failed: alert_rule.guid